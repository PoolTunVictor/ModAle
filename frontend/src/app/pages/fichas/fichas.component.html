<div class="fichas-container">
  <header class="fichas-header">
    <h1 class="titulo">FICHAS</h1>
    <p class="subtitulo">Manage and prioritize customer orders by location.</p>
  </header>

  <div class="filtro">
    <nav class="nav">
      <button 
        class="nav-btn" 
        [class.active]="selectedLocation === 'all'"
        (click)="filtrarPorUbicacion('all')"
      >All Locations</button>

      <button 
        class="nav-btn" 
        [class.active]="selectedLocation === 'Calkiní'"
        (click)="filtrarPorUbicacion('Calkiní')"
      >Calkiní</button>

      <button 
        class="nav-btn" 
        [class.active]="selectedLocation === 'Dzibalché'"
        (click)="filtrarPorUbicacion('Dzibalché')"
      >Dzibalché</button>

            <button 
        class="nav-btn" 
        [class.active]="selectedLocation === 'Becal'"
        (click)="filtrarPorUbicacion('Becal')"
      >Becal</button>

      <button 
        class="nav-btn" 
        [class.active]="selectedLocation === 'Bacabchén'"
        (click)="filtrarPorUbicacion('Bacabchén')"
      >Bacabchén</button>
    </nav>
  </div>

  <div class="tabla-container">
    <table class="tabla-fichas">
      <thead>
        <tr>
          <th>Customer Name</th>
          <th>Order Date</th>
          <th>Status</th>
          <th>Location</th>
          <th>View</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let ficha of fichasFiltradas">
          <td>{{ ficha.name }}</td>
          <td>{{ ficha.date }}</td>
          <td>
            <span 
              class="status" 
              [ngClass]="{
                'nuevo': ficha.status === 'Nuevo',
                'proceso': ficha.status === 'En proceso',
                'completado': ficha.status === 'Completado'
              }"
            >
              {{ ficha.status }}
            </span>
          </td>
          <td>{{ ficha.location }}</td>
          <td><button class="view-btn" (click)="verDetalle(ficha)">View</button></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
